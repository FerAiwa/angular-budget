(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Wm2z:function(t,b,e){"use strict";e.r(b),e.d(b,"ProjectsModule",(function(){return j}));var c=e("ofXK"),n=e("tyNb"),o=e("EdCj"),i=e("GbAS"),r=e("Wfmo"),s=e("fXoL");function a(t,b){if(1&t&&(s.Kb(0,"mark"),s.dc(1),s.Jb()),2&t){const t=s.Sb().$implicit;s.xb(1),s.fc(" ",t.title," ")}}function d(t,b){if(1&t&&(s.Kb(0,"span"),s.dc(1),s.Jb()),2&t){const t=s.Sb().$implicit;s.xb(1),s.fc(" ",t.title," ")}}function p(t,b){if(1&t&&(s.Kb(0,"li"),s.cc(1,a,2,1,"mark",2),s.cc(2,d,2,1,"span",2),s.Jb()),2&t){const t=b.$implicit;s.xb(1),s.Wb("ngIf",t.done),s.xb(1),s.Wb("ngIf",!t.done)}}function u(t,b){if(1&t&&(s.Kb(0,"mark"),s.dc(1),s.Tb(2,"number"),s.Jb()),2&t){const t=s.Sb().$implicit;s.xb(1),s.gc(" ",t.title," +",s.Ub(2,2,t.amount)," \u20ac ")}}function J(t,b){if(1&t&&(s.Kb(0,"span"),s.dc(1),s.Tb(2,"number"),s.Kb(3,"sup"),s.dc(4,"!"),s.Jb(),s.Jb()),2&t){const t=s.Sb().$implicit;s.xb(1),s.gc(" ",t.title," -",s.Ub(2,2,t.amount)," \u20ac ")}}function l(t,b){if(1&t&&(s.Kb(0,"li"),s.cc(1,u,3,4,"mark",2),s.cc(2,J,5,4,"span",2),s.Jb()),2&t){const t=b.$implicit;s.xb(1),s.Wb("ngIf","Ingreso"===t.type),s.xb(1),s.Wb("ngIf","Gasto"===t.type)}}let K=(()=>{class t{constructor(t){this.activatetedRpute=t}ngOnInit(){const t=this.activatetedRpute.snapshot.params.id;this.project=o.a.find((b=>b.id===t)),this.tasks=i.a.filter((b=>b.projectId===t)),this.transactions=r.a.filter((b=>b.projectId===t))}}return t.\u0275fac=function(b){return new(b||t)(s.Hb(n.a))},t.\u0275cmp=s.Bb({type:t,selectors:[["ab-project"]],decls:43,vars:15,consts:[[4,"ngFor","ngForOf"],["routerLink","../new"],[4,"ngIf"]],template:function(t,b){1&t&&(s.Kb(0,"article"),s.Kb(1,"header"),s.Kb(2,"h2"),s.dc(3),s.Jb(),s.Kb(4,"p"),s.dc(5),s.Jb(),s.Kb(6,"p"),s.dc(7," Presupuesto: "),s.Kb(8,"b"),s.dc(9),s.Tb(10,"number"),s.Jb(),s.Kb(11,"i"),s.dc(12),s.Tb(13,"date"),s.Tb(14,"date"),s.Jb(),s.Jb(),s.Jb(),s.Kb(15,"section"),s.Kb(16,"aside"),s.Kb(17,"header"),s.Kb(18,"h3"),s.dc(19,"Tareas"),s.Jb(),s.Jb(),s.Kb(20,"ul"),s.cc(21,p,3,2,"li",0),s.Jb(),s.Jb(),s.Kb(22,"aside"),s.Kb(23,"header"),s.Kb(24,"h3"),s.dc(25,"Transacciones"),s.Jb(),s.Jb(),s.Kb(26,"ul"),s.cc(27,l,3,2,"li",0),s.Jb(),s.Jb(),s.Jb(),s.Kb(28,"footer"),s.Kb(29,"nav"),s.Kb(30,"ul"),s.Kb(31,"li"),s.Kb(32,"a"),s.Kb(33,"i"),s.dc(34,"Cancelar Proyecto"),s.Jb(),s.Jb(),s.Jb(),s.Kb(35,"li"),s.Kb(36,"a"),s.Kb(37,"i"),s.dc(38,"Borrar Proyecto"),s.Jb(),s.Jb(),s.Jb(),s.Kb(39,"li"),s.Kb(40,"a",1),s.Kb(41,"i"),s.dc(42,"Crear Proyecto"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(3),s.fc(" ",b.project.title," "),s.xb(2),s.ec(b.project.description),s.xb(4),s.fc("",s.Ub(10,7,b.project.budget)," \u20ac"),s.xb(3),s.gc(" Inicio: ",s.Vb(13,9,b.project.start,"shortDate")," Fin :",s.Vb(14,12,b.project.end,"shortDate")," "),s.xb(9),s.Wb("ngForOf",b.tasks),s.xb(6),s.Wb("ngForOf",b.transactions))},directives:[c.j,n.d,c.k],pipes:[c.e,c.d],styles:[""]}),t})();var f=e("2FCU");function m(t,b){1&t&&(s.Kb(0,"sup"),s.dc(1,"*"),s.Jb())}const h=function(t){return[t]};function x(t,b){if(1&t&&(s.Kb(0,"tr"),s.Kb(1,"td"),s.Kb(2,"a",2),s.dc(3),s.Jb(),s.Jb(),s.Kb(4,"td"),s.dc(5),s.Tb(6,"date"),s.Jb(),s.Kb(7,"td"),s.dc(8),s.Tb(9,"date"),s.Jb(),s.Kb(10,"td"),s.dc(11),s.Tb(12,"number"),s.Jb(),s.Kb(13,"td"),s.dc(14),s.Tb(15,"number"),s.Jb(),s.Kb(16,"td"),s.dc(17),s.Tb(18,"number"),s.Jb(),s.Kb(19,"td"),s.dc(20),s.Tb(21,"number"),s.Jb(),s.Kb(22,"td"),s.dc(23),s.Tb(24,"number"),s.cc(25,m,2,0,"sup",3),s.Jb(),s.Jb()),2&t){const t=b.$implicit;s.xb(2),s.Wb("routerLink",s.Xb(26,h,t.id)),s.xb(1),s.ec(t.title),s.xb(2),s.fc(" ",s.Vb(6,10,t.start,"dd/MM/yyyy")," "),s.xb(3),s.fc(" ",s.Vb(9,13,t.end,"dd/MM/yyyy")," "),s.xb(3),s.fc(" ",s.Ub(12,16,t.budget)," \u20ac "),s.xb(3),s.fc(" ",s.Ub(15,18,t.totalExpenses)," \u20ac "),s.xb(3),s.fc(" ",s.Ub(18,20,t.totalIncomes)," \u20ac "),s.xb(3),s.fc(" ",s.Ub(21,22,t.profit)," \u20ac "),s.xb(3),s.fc(" ",s.Ub(24,24,t.balance)," \u20ac "),s.xb(2),s.Wb("ngIf",t.balance<0)}}const y=[{path:"",component:(()=>{class t{constructor(){this.projectViews=[]}ngOnInit(){this.setProjectsView()}setProjectsView(){this.projectViews=o.a.map((t=>{const b=Object.assign({},t),e=r.a.filter((t=>t.projectId===b.id)),c=e.filter((t=>t.type===f.a.Expense));b.totalExpenses=c.length>0?c.map((t=>t.amount)).reduce(((t,b)=>t+b)):0;const n=e.filter((t=>t.type===f.a.Incoming));return b.totalIncomes=n.length>0?n.map((t=>t.amount)).reduce(((t,b)=>t+b)):0,b.profit=b.totalIncomes-b.totalExpenses,b.balance=b.budget+b.profit,b}))}}return t.\u0275fac=function(b){return new(b||t)},t.\u0275cmp=s.Bb({type:t,selectors:[["ab-projects"]],decls:31,vars:1,consts:[["routerLink","new"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"]],template:function(t,b){1&t&&(s.Kb(0,"section"),s.Kb(1,"header"),s.Kb(2,"nav"),s.Kb(3,"h2"),s.dc(4," Gesti\xf3n de proyectos "),s.Jb(),s.Kb(5,"ul"),s.Kb(6,"li"),s.Kb(7,"a",0),s.Kb(8,"i"),s.dc(9,"Nuevo proyecto"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"table"),s.Kb(11,"thead"),s.Kb(12,"tr"),s.Kb(13,"th"),s.dc(14," Proyecto "),s.Jb(),s.Kb(15,"th"),s.dc(16," Inicio "),s.Jb(),s.Kb(17,"th"),s.dc(18," Fin "),s.Jb(),s.Kb(19,"th"),s.dc(20," Presupuesto "),s.Jb(),s.Kb(21,"th"),s.dc(22," Gastos "),s.Jb(),s.Kb(23,"th"),s.dc(24," Ingresos "),s.Jb(),s.Kb(25,"th"),s.dc(26," Beneficio "),s.Jb(),s.Kb(27,"th"),s.dc(28," Saldo "),s.Jb(),s.Jb(),s.Jb(),s.Kb(29,"tbody"),s.cc(30,x,26,28,"tr",1),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(30),s.Wb("ngForOf",b.projectViews))},directives:[n.d,c.j,c.k],pipes:[c.d,c.e],styles:[""]}),t})()},{path:"new",loadChildren:()=>e.e(7).then(e.bind(null,"QbB7")).then((t=>t.NewProjectModule)),data:{title:"Nuevo proyecto"}},{path:":id",component:K}];let g=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(b){return new(b||t)},imports:[[n.e.forChild(y)],n.e]}),t})(),j=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(b){return new(b||t)},imports:[[c.b,g]]}),t})()}}]);